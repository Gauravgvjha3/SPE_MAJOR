{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/jay/Desktop/node/SPE_MAJOR/frontend/components/auth/Analytics.js\";\nimport { useState, useEffect } from 'react';\nimport { signup, isAuth, preSignup } from '../../actions/auth';\nimport fetch from 'isomorphic-fetch';\nimport { API } from '../../config';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport ReactTooltip from 'react-tooltip';\nimport 'react-calendar-heatmap/dist/styles.css';\nconst today = new Date();\n\nconst Analytics = () => {\n  const {\n    0: post,\n    1: setPost\n  } = useState([]);\n  useEffect(() => {\n    let id = isAuth() && isAuth()._id;\n\n    analysis(id);\n  }, []);\n\n  const analysis = userid => {\n    console.log(\"call Analyssis \", userid);\n    return fetch(`${API}/analytics/${userid}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json'\n      }\n    }).then(response => {\n      const data = response.json().then(data => {\n        // console.log(\"data:\",data);\n        setPost(data);\n      });\n    }).catch(err => console.error(err));\n  };\n\n  const temValues = () => {\n    console.log(\"inside date data: \", post);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Analytics Comes Here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 42\n    }, this), getCalendar(post)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\nconst shiftDate = (date, numDays) => {\n  const newDate = new Date(date);\n  newDate.setDate(newDate.getDate() + numDays);\n  return newDate;\n};\n\nconst getCalendar = post => {\n  const getValues = () => {\n    const values = [];\n    post.forEach(obj => {\n      const tem = {};\n\n      if (obj._id !== null) {\n        tem.date = obj._id;\n        tem.count = obj.count;\n        values.append(tem);\n      }\n    });\n    return values;\n  };\n\n  if (!post) {\n    return null;\n  } else {\n    return /*#__PURE__*/_jsxDEV(CalendarHeatmap, {\n      startDate: shiftDate(today, -150),\n      endDate: today,\n      values: getValues(),\n      tooltipDataAttrs: value => {\n        return {\n          'data-tip': `${value.date.toISOString().slice(0, 10)} has count: ${value.count}`\n        };\n      },\n      onClick: value => alert(`Clicked on value with count: ${value.count}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CalendarHeatmap, {\n    startDate: new Date('2016-01-01'),\n    endDate: new Date('2016-04-01'),\n    values: [{\n      date: '2016-01-01'\n    }, {\n      date: '2016-01-22'\n    }, {\n      date: '2016-01-30'\n    }]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 13\n  }, this);\n};\n\nexport default Analytics;","map":{"version":3,"sources":["/home/jay/Desktop/node/SPE_MAJOR/frontend/components/auth/Analytics.js"],"names":["useState","useEffect","signup","isAuth","preSignup","fetch","API","React","ReactDOM","CalendarHeatmap","ReactTooltip","today","Date","Analytics","post","setPost","id","_id","analysis","userid","console","log","method","headers","Accept","then","response","data","json","catch","err","error","temValues","getCalendar","shiftDate","date","numDays","newDate","setDate","getDate","getValues","values","forEach","obj","tem","count","append","value","toISOString","slice","alert"],"mappings":"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","sourcesContent":["import { useState, useEffect} from 'react';\nimport { signup, isAuth, preSignup } from '../../actions/auth';\n\n\nimport fetch from 'isomorphic-fetch';\n\nimport { API } from '../../config';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport ReactTooltip from 'react-tooltip';\n\nimport 'react-calendar-heatmap/dist/styles.css';\n\nconst today = new Date();\n  \nconst Analytics = () => {\n    \n    \n    const [post,setPost] = useState([]);\n\n    useEffect(() => {\n        let id=isAuth() && isAuth()._id;\n        analysis(id);\n\n    },[]);\n\n\n    const analysis=(userid)=>{\n\n        console.log(\"call Analyssis \",userid);\n        return fetch(`${API}/analytics/${userid}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json'\n            }\n        }\n        )\n        .then( (response) => {\n                const data=response.json().then((data)=>{\n                    // console.log(\"data:\",data);\n                    setPost(data);\n                })\n                \n            })\n        .catch(err => console.error(err));\n    };\n\n    const temValues = ()=>{\n        console.log(\"inside date data: \",post);\n    }\n\n    return (\n        <React.Fragment>\n            <h1>Analytics Comes Here</h1><br/>\n            {getCalendar(post)}\n\n        </React.Fragment>\n    );\n        \n};\n\nconst shiftDate = (date, numDays) => {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n\nconst getCalendar = (post)=>{\n\n    const getValues = ()=>{\n\n        const values = []\n        post.forEach((obj)=>{\n            const tem = {}\n            if(obj._id!==null){\n                tem.date = obj._id;\n                tem.count = obj.count;\n                values.append(tem);\n            }\n            \n        })\n        return values;\n    }\n\n    if (!post){\n        return null;\n    }\n    else{\n        return (\n            <CalendarHeatmap\n                startDate={shiftDate(today, -150)}\n                endDate={today}\n                values={getValues()}\n                tooltipDataAttrs={value => {\n                return {\n                    'data-tip': `${value.date.toISOString().slice(0, 10)} has count: ${\n                    value.count\n                    }`,\n                };\n                }}\n                onClick={value => alert(`Clicked on value with count: ${value.count}`)} />\n        )\n    }\n\n    return (<CalendarHeatmap\n        startDate={new Date('2016-01-01')}\n        endDate={new Date('2016-04-01')}\n        values={[\n            { date: '2016-01-01' },\n            { date: '2016-01-22' },\n            { date: '2016-01-30' },\n        ]}\n    />)\n}\n\nexport default Analytics;\n"]},"metadata":{},"sourceType":"module"}