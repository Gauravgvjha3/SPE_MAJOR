{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/jay/Desktop/node/SPE_MAJOR/frontend/components/auth/Analytics.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { signup, isAuth, preSignup } from '../../actions/auth';\nimport fetch from 'isomorphic-fetch';\nimport { API } from '../../config';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport ReactTooltip from 'react-tooltip';\nimport 'react-calendar-heatmap/dist/styles.css';\nvar today = new Date();\n\nvar Analytics = function Analytics() {\n  _s();\n\n  var _useState = useState([]),\n      post = _useState[0],\n      setPost = _useState[1];\n\n  useEffect(function () {\n    var id = isAuth() && isAuth()._id;\n\n    analysis(id);\n  }, []);\n\n  function shiftDate(date, numDays) {\n    var newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n\n  var getValues = function getValues() {\n    var values = {};\n    post.forEach(function (obj) {\n      var tem = {};\n      tem.date = obj._id;\n      tem.count = obj.count;\n      values.append(tem);\n    });\n    var values2 = {\n      '2016-06-23': 1,\n      '2016-06-26': 2,\n      '2016-06-27': 3,\n      '2016-06-28': 4,\n      '2016-06-29': 4\n    }; //   var until = '2016-06-30';\n    // console.log(\"\")\n\n    return values;\n  };\n\n  var analysis = function analysis(userid) {\n    console.log(\"call Analyssis \", userid);\n    return fetch(\"\".concat(API, \"/analytics/\").concat(userid), {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json'\n      }\n    }).then(function (response) {\n      var data = response.json().then(function (data) {\n        // console.log(\"data:\",data);\n        setPost(data);\n      });\n    })[\"catch\"](function (err) {\n      return console.error(err);\n    });\n  };\n\n  var temValues = function temValues() {\n    console.log(\"inside date data: \", post);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Analytics Comes Here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 42\n    }, _this), post ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CalendarHeatmap, {\n        startDate: new Date('2016-01-01'),\n        endDate: new Date('2016-04-01'),\n        values: [{\n          date: '2016-01-01'\n        }, {\n          date: '2016-01-22'\n        }, {\n          date: '2016-01-30'\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, _this), temValues(), /*#__PURE__*/_jsxDEV(ReactTooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, _this) : null, /*#__PURE__*/_jsxDEV(CalendarHeatmap, {\n      startDate: new Date('2016-01-01'),\n      endDate: new Date('2016-04-01'),\n      values: [{\n        date: '2016-01-01'\n      }, {\n        date: '2016-01-22'\n      }, {\n        date: '2016-01-30'\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Analytics, \"smerPVHXs5YCTONMUxh6mIGt9XY=\");\n\n_c = Analytics;\nexport default Analytics;\n\nvar _c;\n\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"sources":["/home/jay/Desktop/node/SPE_MAJOR/frontend/components/auth/Analytics.js"],"names":["useState","useEffect","signup","isAuth","preSignup","fetch","API","React","ReactDOM","CalendarHeatmap","ReactTooltip","today","Date","Analytics","post","setPost","id","_id","analysis","shiftDate","date","numDays","newDate","setDate","getDate","getValues","values","forEach","obj","tem","count","append","values2","userid","console","log","method","headers","Accept","then","response","data","json","err","error","temValues"],"mappings":"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","sourcesContent":["import { useState, useEffect} from 'react';\nimport { signup, isAuth, preSignup } from '../../actions/auth';\n\n\nimport fetch from 'isomorphic-fetch';\n\nimport { API } from '../../config';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport ReactTooltip from 'react-tooltip';\n\nimport 'react-calendar-heatmap/dist/styles.css';\n\nconst today = new Date();\n  \nconst Analytics = () => {\n    \n    \n    const [post,setPost] = useState([]);\n\n    useEffect(() => {\n        let id=isAuth() && isAuth()._id;\n        analysis(id);\n\n    },[]);\n\n    function shiftDate(date, numDays) {\n        const newDate = new Date(date);\n        newDate.setDate(newDate.getDate() + numDays);\n        return newDate;\n      }\n\n    const getValues = ()=>{\n\n        const values = {}\n        post.forEach((obj)=>{\n            const tem = {}\n            tem.date = obj._id;\n            tem.count = obj.count;\n            values.append(tem);\n        })\n        var values2 = {\n            '2016-06-23': 1,\n            '2016-06-26': 2,\n            '2016-06-27': 3,\n            '2016-06-28': 4,\n            '2016-06-29': 4\n          }\n        //   var until = '2016-06-30';\n        // console.log(\"\")\n        return values;\n    }\n\n    const analysis=(userid)=>{\n\n        console.log(\"call Analyssis \",userid);\n        return fetch(`${API}/analytics/${userid}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json'\n            }\n        }\n        )\n        .then( (response) => {\n                const data=response.json().then((data)=>{\n                    // console.log(\"data:\",data);\n                    setPost(data);\n                })\n                \n            })\n        .catch(err => console.error(err));\n    };\n\n    const temValues = ()=>{\n        console.log(\"inside date data: \",post);\n    }\n\n    return (\n        <React.Fragment>\n            <h1>Analytics Comes Here</h1><br/>\n            { post ? (\n            <div>\n            {/* <CalendarHeatmap\n            \n                startDate={shiftDate(today, -150)}\n                endDate={today}\n                values={getValues()}\n\n                tooltipDataAttrs={value => {\n                return {\n                    'data-tip': `${value.date.toISOString().slice(0, 10)} has count: ${\n                    value.count\n                    }`,\n                };\n                }}\n                onClick={value => alert(`Clicked on value with count: ${value.count}`)} \n\n                    /> */}\n                \n                <CalendarHeatmap\n                    startDate={new Date('2016-01-01')}\n                    endDate={new Date('2016-04-01')}\n                    values={[\n                        { date: '2016-01-01' },\n                        { date: '2016-01-22' },\n                        { date: '2016-01-30' },\n                    ]}\n                />\n            {temValues()}\n                \n            <ReactTooltip />\n            </div>\n            )\n            :null}\n            <CalendarHeatmap\n                    startDate={new Date('2016-01-01')}\n                    endDate={new Date('2016-04-01')}\n                    values={[\n                        { date: '2016-01-01' },\n                        { date: '2016-01-22' },\n                        { date: '2016-01-30' },\n                    ]}\n                />\n        </React.Fragment>\n    );\n        \n};\n\nexport default Analytics;\n"]},"metadata":{},"sourceType":"module"}