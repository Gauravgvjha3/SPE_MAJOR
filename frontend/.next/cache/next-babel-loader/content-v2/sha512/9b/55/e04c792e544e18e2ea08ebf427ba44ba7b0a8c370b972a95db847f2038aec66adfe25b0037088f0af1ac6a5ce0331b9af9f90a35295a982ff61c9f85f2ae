{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/jay/Desktop/node/SPE_MAJOR/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/jay/Desktop/node/SPE_MAJOR/frontend/components/crud/BlogUpdate.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport dynamic from 'next/dynamic';\nimport { withRouter } from 'next/router';\nimport { getCookie, isAuth } from '../../actions/auth';\nimport { getCategories } from '../../actions/category';\nimport { getTags } from '../../actions/tag';\nimport { singleBlog, updateBlog } from '../../actions/blog';\nvar ReactQuill = dynamic(_c = function _c() {\n  return import('react-quill');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('react-quill')];\n    },\n    modules: ['react-quill']\n  }\n});\n_c2 = ReactQuill;\nimport '../../node_modules/react-quill/dist/quill.snow.css';\nimport { QuillModules, QuillFormats } from '../../helpers/quill';\n\nvar BlogUpdate = function BlogUpdate(_ref) {\n  _s();\n\n  var _useState3;\n\n  var router = _ref.router;\n\n  var _useState = useState(''),\n      body = _useState[0],\n      setBody = _useState[1];\n\n  var _useState2 = useState((_useState3 = {\n    title: '',\n    error: '',\n    success: '',\n    formData: ''\n  }, _defineProperty(_useState3, \"title\", ''), _defineProperty(_useState3, \"body\", ''), _useState3)),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var error = values.error,\n      success = values.success,\n      formData = values.formData,\n      title = values.title;\n  useEffect(function () {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      formData: new FormData()\n    }));\n    initBlog();\n  }, [router]);\n\n  var initBlog = function initBlog() {\n    if (router.query.slug) {\n      singleBlog(router.query.slug).then(function (data) {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            title: data.title\n          }));\n          setBody(data.body);\n        }\n      });\n    }\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      // console.log(e.target.value);\n      var value = name === 'photo' ? e.target.files[0] : e.target.value;\n      formData.set(name, value);\n      setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, value), _defineProperty(_objectSpread2, \"formData\", formData), _defineProperty(_objectSpread2, \"error\", ''), _objectSpread2)));\n    };\n  };\n\n  var handleBody = function handleBody(e) {\n    setBody(e);\n    formData.set('body', e);\n  };\n\n  var editBlog = function editBlog() {\n    console.log('update blog');\n  };\n\n  var updateBlogForm = function updateBlogForm() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: editBlog,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: title,\n          onChange: handleChange('title')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(ReactQuill, {\n          modules: QuillModules,\n          formats: QuillFormats,\n          value: body,\n          placeholder: \"Write something amazing...\",\n          onChange: handleBody\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid pb-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [updateBlogForm(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"show success and error msg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group pb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Featured image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(BlogUpdate, \"tZCiuODqdUbIsEIA7ZNfo+9YoSg=\");\n\n_c3 = BlogUpdate;\nexport default _c4 = withRouter(BlogUpdate);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ReactQuill$dynamic\");\n$RefreshReg$(_c2, \"ReactQuill\");\n$RefreshReg$(_c3, \"BlogUpdate\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"sources":["/home/jay/Desktop/node/SPE_MAJOR/frontend/components/crud/BlogUpdate.js"],"names":["Link","useState","useEffect","Router","dynamic","withRouter","getCookie","isAuth","getCategories","getTags","singleBlog","updateBlog","ReactQuill","ssr","QuillModules","QuillFormats","BlogUpdate","router","body","setBody","title","error","success","formData","values","setValues","FormData","initBlog","query","slug","then","data","console","log","handleChange","name","e","value","target","files","set","handleBody","editBlog","updateBlogForm"],"mappings":"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","sourcesContent":["import Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport dynamic from 'next/dynamic';\nimport { withRouter } from 'next/router';\nimport { getCookie, isAuth } from '../../actions/auth';\nimport { getCategories } from '../../actions/category';\nimport { getTags } from '../../actions/tag';\nimport { singleBlog, updateBlog } from '../../actions/blog';\nconst ReactQuill = dynamic(() => import('react-quill'), { ssr: false });\nimport '../../node_modules/react-quill/dist/quill.snow.css';\nimport { QuillModules, QuillFormats } from '../../helpers/quill';\n\nconst BlogUpdate = ({ router }) => {\n    const [body, setBody] = useState('');\n    const [values, setValues] = useState({\n        title: '',\n        error: '',\n        success: '',\n        formData: '',\n        title: '',\n        body: ''\n    });\n\n    const { error, success, formData, title } = values;\n\n    useEffect(() => {\n        setValues({ ...values, formData: new FormData() });\n        initBlog();\n    }, [router]);\n\n    const initBlog = () => {\n        if (router.query.slug) {\n            singleBlog(router.query.slug).then(data => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    setValues({ ...values, title: data.title });\n                    setBody(data.body);\n                }\n            });\n        }\n    };\n\n    const handleChange = name => e => {\n        // console.log(e.target.value);\n        const value = name === 'photo' ? e.target.files[0] : e.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value, formData, error: '' });\n    };\n\n    const handleBody = e => {\n        setBody(e);\n        formData.set('body', e);\n    };\n\n    const editBlog = () => {\n        console.log('update blog');\n    };\n\n    const updateBlogForm = () => {\n        return (\n            <form onSubmit={editBlog}>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Title</label>\n                    <input type=\"text\" className=\"form-control\" value={title} onChange={handleChange('title')} />\n                </div>\n\n                <div className=\"form-group\">\n                    <ReactQuill\n                        modules={QuillModules}\n                        formats={QuillFormats}\n                        value={body}\n                        placeholder=\"Write something amazing...\"\n                        onChange={handleBody}\n                    />\n                </div>\n\n                <div>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        Update\n                    </button>\n                </div>\n            </form>\n        );\n    };\n\n    return (\n        <div className=\"container-fluid pb-5\">\n            <div className=\"row\">\n                <div className=\"col-md-8\">\n                    {updateBlogForm()}\n                    <div className=\"pt-3\">\n                        <p>show success and error msg</p>\n                    </div>\n                </div>\n\n                <div className=\"col-md-4\">\n                    <div>\n                        <div className=\"form-group pb-2\">\n                            <h5>Featured image</h5>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default withRouter(BlogUpdate);"]},"metadata":{},"sourceType":"module"}